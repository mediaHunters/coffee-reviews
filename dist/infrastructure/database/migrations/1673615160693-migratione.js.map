{"version":3,"sources":["../../../../src/infrastructure/database/migrations/1673615160693-migratione.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from 'typeorm';\n\nexport class migratione1673615160693 implements MigrationInterface {\n  name = 'migratione1673615160693';\n\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    await queryRunner.query(\n      `ALTER TABLE \"review\" DROP CONSTRAINT \"FK_bd110d69d616d317d76f3e8e429\"`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" DROP CONSTRAINT \"FK_1337f93918c70837d3cea105d39\"`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ALTER COLUMN \"coffeeId\" SET NOT NULL`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ALTER COLUMN \"userId\" DROP NOT NULL`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" DROP CONSTRAINT \"REL_1337f93918c70837d3cea105d3\"`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ADD CONSTRAINT \"FK_bd110d69d616d317d76f3e8e429\" FOREIGN KEY (\"coffeeId\") REFERENCES \"coffee\"(\"id\") ON DELETE CASCADE ON UPDATE NO ACTION`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ADD CONSTRAINT \"FK_1337f93918c70837d3cea105d39\" FOREIGN KEY (\"userId\") REFERENCES \"user\"(\"id\") ON DELETE NO ACTION ON UPDATE NO ACTION`\n    );\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    await queryRunner.query(\n      `ALTER TABLE \"review\" DROP CONSTRAINT \"FK_1337f93918c70837d3cea105d39\"`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" DROP CONSTRAINT \"FK_bd110d69d616d317d76f3e8e429\"`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ADD CONSTRAINT \"REL_1337f93918c70837d3cea105d3\" UNIQUE (\"userId\")`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ALTER COLUMN \"userId\" SET NOT NULL`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ALTER COLUMN \"coffeeId\" DROP NOT NULL`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ADD CONSTRAINT \"FK_1337f93918c70837d3cea105d39\" FOREIGN KEY (\"userId\") REFERENCES \"user\"(\"id\") ON DELETE NO ACTION ON UPDATE NO ACTION`\n    );\n    await queryRunner.query(\n      `ALTER TABLE \"review\" ADD CONSTRAINT \"FK_bd110d69d616d317d76f3e8e429\" FOREIGN KEY (\"coffeeId\") REFERENCES \"coffee\"(\"id\") ON DELETE NO ACTION ON UPDATE NO ACTION`\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,IAAM,0BAAN,MAA4D;AAAA,EAA5D;AACL,gBAAO;AAAA;AAAA,EAEP,MAAa,GAAG,aAAyC;AACvD,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,MAAa,KAAK,aAAyC;AACzD,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AACA,UAAM,YAAY;AAAA,MAChB;AAAA,IACF;AAAA,EACF;AACF;","names":[]}