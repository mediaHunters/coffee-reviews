{"version":3,"sources":["../src/ui/common/config/errors/handlers/errorHandler.ts"],"sourcesContent":["import { Application, NextFunction, Request, Response } from 'express';\n\nimport {\n  INTERNAL_SERVER_ERROR,\n  NOT_FOUND,\n  UNPROCESSABLE_ENTITY,\n} from 'http-status-codes';\n\nimport { BaseError } from 'core/common/errors/BaseError';\nimport { CoreError } from 'core/common/errors/CoreError';\nimport { UserInterfaceError } from 'ui/common/config/errors/UserInterfaceError';\nimport { ErrorResponse } from 'ui/common/config/errors/models/ErrorResponse';\n\nexport const errorHandler = (app: Application) =>\n  app.use(\n    (error: BaseError, req: Request, res: Response, next: NextFunction) => {\n      next();\n      switch (error.constructor) {\n        case UserInterfaceError:\n          return res\n            .status((error as UserInterfaceError).status)\n            .json(new ErrorResponse(error.code, error.message));\n        case CoreError:\n          return res\n            .status(UNPROCESSABLE_ENTITY)\n            .json(new ErrorResponse(error.code, error.message));\n        case BaseError:\n          return res\n            .status(NOT_FOUND)\n            .json(new ErrorResponse(error.code, error.message));\n        default:\n          return res\n            .status(INTERNAL_SERVER_ERROR)\n            .json(\n              new ErrorResponse(INTERNAL_SERVER_ERROR.toString(), error.message)\n            );\n      }\n    }\n  );\n"],"mappings":";;;;;;;;;;;;;;;;;AAEA;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAOA,IAAM,eAAe,wBAAC,QAC3B,IAAI;AAAA,EACF,CAAC,OAAkB,KAAc,KAAe,SAAuB;AACrE,SAAK;AACL,YAAQ,MAAM,aAAa;AAAA,MACzB,KAAK;AACH,eAAO,IACJ,OAAQ,MAA6B,MAAM,EAC3C,KAAK,IAAI,cAAc,MAAM,MAAM,MAAM,OAAO,CAAC;AAAA,MACtD,KAAK;AACH,eAAO,IACJ,OAAO,oBAAoB,EAC3B,KAAK,IAAI,cAAc,MAAM,MAAM,MAAM,OAAO,CAAC;AAAA,MACtD,KAAK;AACH,eAAO,IACJ,OAAO,SAAS,EAChB,KAAK,IAAI,cAAc,MAAM,MAAM,MAAM,OAAO,CAAC;AAAA,MACtD;AACE,eAAO,IACJ,OAAO,qBAAqB,EAC5B;AAAA,UACC,IAAI,cAAc,sBAAsB,SAAS,GAAG,MAAM,OAAO;AAAA,QACnE;AAAA,IACN;AAAA,EACF;AACF,GAzB0B;","names":[]}