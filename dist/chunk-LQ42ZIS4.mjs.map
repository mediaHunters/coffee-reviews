{"version":3,"sources":["../src/core/applicationServices/Coffee/CoffeeService.ts"],"sourcesContent":["import { inject, injectable } from 'inversify';\n\nimport { UpdateResult } from 'typeorm';\n\nimport { ICoffeeService } from 'core/applicationServices/Coffee/ICoffeeService';\nimport {\n  DOMAIN_REPOSITORY_IDENTIFIERS,\n  DOMAIN_UNIT_OF_WORK_IDENTIFIERS,\n} from 'core/CoreModuleSymbols';\nimport { Coffee } from 'core/domain/Coffee/Coffee';\nimport { ICoffeeUnitOfWork } from 'core/domainServices/Coffee/ICoffeeUnitOfWork';\nimport { CreateCoffeeUnitOfWorkRepositoryCommand } from 'core/domainServices/Coffee/requests/UnitOfWork/command/AddCoffeeUnitOfWorkRepositoryCommand';\nimport { DeleteCoffeeCommand } from 'core/applicationServices/Coffee/requests/command/DeleteCoffeeCommand';\nimport { DeleteCoffeeUnitOfWorkRepositoryCommand } from 'core/domainServices/Coffee/requests/UnitOfWork/command/DeleteCoffeeUnitOfWorkRepositoryCommand';\nimport { ICoffeeRepository } from 'core/domainServices/Coffee/ICoffeeRepository';\nimport { FindOneCoffeeRepositoryQuery } from 'core/domainServices/Coffee/requests/UnitOfWork/query/FindCoffeeRepositoryQuery';\nimport { CreateCoffeeCommand } from 'core/applicationServices/Coffee/requests/command/AddCoffeeCommand';\nimport { UpdateCoffeeCommand } from 'core/applicationServices/Coffee/requests/command/UpdateCoffeeCommand';\n\n@injectable()\nexport class CoffeeService implements ICoffeeService {\n  constructor(\n    @inject(DOMAIN_UNIT_OF_WORK_IDENTIFIERS.COFFEE_UNIT_OF_WORK)\n    private readonly coffeUnitOfWork: ICoffeeUnitOfWork,\n    @inject(DOMAIN_REPOSITORY_IDENTIFIERS.COFFEE_REPOSITORY)\n    private readonly coffeRepository: ICoffeeRepository\n  ) {}\n\n  findAll(): Promise<Coffee[]> {\n    return this.coffeRepository.findAllCoffees();\n  }\n\n  findOne({ id }: FindOneCoffeeRepositoryQuery): Promise<Coffee> {\n    return this.coffeRepository.findOneCoffee(\n      new FindOneCoffeeRepositoryQuery(id)\n    );\n  }\n\n  create({\n    brand,\n    name,\n    type,\n    imgUrl,\n    description,\n    burntLvl,\n    reflink,\n    CoffeeStatus,\n  }: CreateCoffeeCommand): Promise<Coffee> {\n    return this.coffeRepository.createCoffee(\n      new CreateCoffeeUnitOfWorkRepositoryCommand(\n        brand,\n        name,\n        type,\n        imgUrl,\n        description,\n        burntLvl,\n        CoffeeStatus,\n        reflink || ''\n      )\n    );\n  }\n\n  update({ coffee, coffeeId }: UpdateCoffeeCommand): Promise<UpdateResult> {\n    return this.coffeRepository.updateCoffee({ coffee, coffeeId });\n  }\n\n  delete(command: DeleteCoffeeCommand): Promise<Coffee> {\n    return this.coffeUnitOfWork.delete(\n      new DeleteCoffeeUnitOfWorkRepositoryCommand(command.id)\n    );\n  }\n\n  // addReview({\n  //   userId,\n  //   coffeeId,\n  //   look,\n  //   smell,\n  //   taste,\n  // }: AddCoffeeReviewCommand): Promise<Coffee> {\n  //   return this.CoffeUnitOfWork.addCoffeeReview(\n  //     new AddCoffeeReviewUnitOfWorkRepositoryCommand(\n  //       userId,\n  //       coffeeId,\n  //       look,\n  //       smell,\n  //       taste\n  //     )\n  //   );\n  // }\n\n  // sortAndPaginate({ sortBy, skip, take }: SearchQuery): Promise<Coffee> {\n  //   return this.CoffeRepository.sortAndPaginate(\n  //     new SearchRepositoryQuery(sortBy, skip, take)\n  //   );\n  // }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,SAAS,QAAQ,kBAAkB;AAoB5B,IAAM,gBAAN,MAA8C;AAAA,EACnD,YAEmB,iBAEA,iBACjB;AAHiB;AAEA;AAAA,EAChB;AAAA,EAEH,UAA6B;AAC3B,WAAO,KAAK,gBAAgB,eAAe;AAAA,EAC7C;AAAA,EAEA,QAAQ,EAAE,GAAG,GAAkD;AAC7D,WAAO,KAAK,gBAAgB;AAAA,MAC1B,IAAI,6BAA6B,EAAE;AAAA,IACrC;AAAA,EACF;AAAA,EAEA,OAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,GAAyC;AACvC,WAAO,KAAK,gBAAgB;AAAA,MAC1B,IAAI;AAAA,QACF;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,WAAW;AAAA,MACb;AAAA,IACF;AAAA,EACF;AAAA,EAEA,OAAO,EAAE,QAAQ,SAAS,GAA+C;AACvE,WAAO,KAAK,gBAAgB,aAAa,EAAE,QAAQ,SAAS,CAAC;AAAA,EAC/D;AAAA,EAEA,OAAO,SAA+C;AACpD,WAAO,KAAK,gBAAgB;AAAA,MAC1B,IAAI,wCAAwC,QAAQ,EAAE;AAAA,IACxD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBF;AA3Ea,gBAAN;AAAA,EADN,WAAW;AAAA,EAGR,mBAAC,OAAO,gCAAgC,mBAAmB;AAAA,EAE3D,mBAAC,OAAO,8BAA8B,iBAAiB;AAAA,GAJ9C;","names":[]}